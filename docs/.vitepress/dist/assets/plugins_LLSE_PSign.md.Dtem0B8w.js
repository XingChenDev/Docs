import{_ as i,c as s,o as a,a4 as t}from"./chunks/framework.JkBXQW4V.js";const E=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"plugins/LLSE/PSign.md","filePath":"plugins/LLSE/PSign.md","lastUpdated":null}'),l={name:"plugins/LLSE/PSign.md"},e=t(`<div class="tip custom-block"><p class="custom-block-title"></p><p>PSign是一个支持正则表达式通过控制台实现QQ群离线签到的插件。<code>1.1.0</code>版本改版后对PSign进行重要调整,同时支持<code>PMail</code>进行签到邮件的接收等</p></div><h2 id="前置组件" tabindex="-1">前置组件 <a class="header-anchor" href="#前置组件" aria-label="Permalink to &quot;前置组件&quot;">​</a></h2><h4 id="必选" tabindex="-1">必选 <a class="header-anchor" href="#必选" aria-label="Permalink to &quot;必选&quot;">​</a></h4><ul><li><a href="https://www.minebbs.com/liteloader/" target="_blank" rel="noreferrer">LiteLoaderBDS</a></li></ul><h4 id="可选" tabindex="-1">可选 <a class="header-anchor" href="#可选" aria-label="Permalink to &quot;可选&quot;">​</a></h4><ul><li><a href="https://www.minebbs.com/resources/pbind.4211/" target="_blank" rel="noreferrer">PBind</a> 建议使用</li></ul><h2 id="配置文件说明" tabindex="-1">配置文件说明 <a class="header-anchor" href="#配置文件说明" aria-label="Permalink to &quot;配置文件说明&quot;">​</a></h2><blockquote><p>[!ATTENTION] 更改配置文件请注意 JSON 文件格式，不推荐使用记事本修改或添加菜单文件解析</p></blockquote><h4 id="config文件" tabindex="-1"><code>config</code>文件 <a class="header-anchor" href="#config文件" aria-label="Permalink to &quot;\`config\`文件&quot;">​</a></h4><ul><li>插件基础配置文件</li><li>路径: BDS/plugins/Planet/PSign/config.json</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;v1.0.9&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//插件版本</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;money&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//经济模式(0为记分板,1为LLMoney)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;score&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;money&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;sign&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;breakoffsign&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//离线断签开关（true为开,false为关），用于检测玩家上次入服时间有没有超过指定时长从而禁止离线签到</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;breakoffsignday&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//离线断签时长</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;switch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//签到开关（true为开,false为关），可在线使用签到设置进行变更</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;addition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//连续签到翻倍开关（true为开,false为关），可在线使用签到设置进行变更</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;fixed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//签到固定奖励值(0为随机奖励，大于0为固定奖励)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;minreward&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//签到的经济最小奖励值，可在线使用签到设置进行变更(该参数不能大于最大值)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;maxreward&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//签到的经济最大奖励值，可在线使用签到设置进行变更(该参数不能小于最小值)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;vipfixed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//会员签到固定奖励值(0为随机奖励，大于0为固定奖励)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;vipminreward&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//会员签到的经济最小奖励值，可在线使用签到设置进行变更(该参数不能大于最大值)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;vipmaxreward&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //会员签到的经济最大奖励值，可在线使用签到设置进行变更(该参数不能小于最小值)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="signdata文件" tabindex="-1"><code>signdata</code>文件 <a class="header-anchor" href="#signdata文件" aria-label="Permalink to &quot;\`signdata\`文件&quot;">​</a></h4><ul><li>签到数据</li><li>路径: BDS/plugins/Planet/PSign/data/signdata.json</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;SUNSServer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//玩家ID</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;state&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*离线签到奖励领取情况*/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`1.1.0 版本后删除了此项\`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;count&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//总签到次数</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;contsign&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//连续签到次数</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;reward&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//离线普通签到奖励</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;vipreward&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//离线签到VIP奖励</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;signdate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2023-4-23&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //上次签到时间</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="papi变量说明" tabindex="-1">PAPI变量说明 <a class="header-anchor" href="#papi变量说明" aria-label="Permalink to &quot;PAPI变量说明&quot;">​</a></h2><p>-<code>v1.1.0</code>正式版开始支持</p><blockquote><p>[!ATTENTION] 使用<code>BEPlaceholderAPI</code>公共变量需要安装<code>BEPlaceholderAPI</code>插件</p></blockquote><table><thead><tr><th>变量</th><th>注释</th><th>示例</th></tr></thead><tbody><tr><td><code>%PS_Count%</code></td><td>玩家总签到次数</td><td><code>HeadShow</code>插件<code>%PS_Count%</code><br><code>PQuery</code>插件<code>%PS_Count%</code></td></tr><tr><td><code>%PS_Cont%</code></td><td>玩家连续签到次数</td><td><code>HeadShow</code>插件<code>%PS_Cont%</code><br><code>PQuery</code>插件<code>%PS_Cont%</code></td></tr><tr><td><code>%PS_Date%</code></td><td>玩家最后签到日期</td><td><code>HeadShow</code>插件<code>%PS_Date%</code><br><code>PQuery</code>插件<code>%PS_Date%</code></td></tr></tbody></table><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><blockquote><p>PSign提供了8个接口</p></blockquote><h4 id="获取所有玩家签到数据" tabindex="-1">获取所有玩家签到数据 <a class="header-anchor" href="#获取所有玩家签到数据" aria-label="Permalink to &quot;获取所有玩家签到数据&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;all&quot;)()</code></p><ul><li>返回值: 签到数据对象</li><li>返回值类型: <code>Object</code><ul><li>数据请看上面的<code>signdata</code>配置文件数据</li></ul></li></ul><h4 id="获取指定玩家的签到数据" tabindex="-1">获取指定玩家的签到数据 <a class="header-anchor" href="#获取指定玩家的签到数据" aria-label="Permalink to &quot;获取指定玩家的签到数据&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;playerdata&quot;)(name)</code></p><ul><li><p>参数:</p><ul><li>name: <code>String</code> 玩家ID</li></ul></li><li><p>返回值: 玩家签到对象</p></li><li><p>返回值类型: <code>Object</code></p><table><thead><tr><th>属性</th><th>含义</th><th>类型</th><th>示范</th></tr></thead><tbody><tr><td>count</td><td>总签到次数</td><td><code>Number</code></td><td>24</td></tr><tr><td>contsign</td><td>连续签到次数</td><td><code>Number</code></td><td>1</td></tr><tr><td>reward</td><td>离线签到普通奖励</td><td><code>Number</code></td><td>0</td></tr><tr><td>vipreward</td><td>离线签到VIP奖励</td><td><code>Number</code></td><td>0</td></tr><tr><td>signdate</td><td>上次签到时间</td><td><code>String</code></td><td>&quot;2023-4-23&quot;</td></tr></tbody></table><ul><li>如果返回 <code>null</code> 则表示没有签到数据或没有填写玩家名字</li></ul></li></ul><h4 id="获取指定玩家的离线签到奖励领取情况" tabindex="-1">获取指定玩家的离线签到奖励领取情况 <a class="header-anchor" href="#获取指定玩家的离线签到奖励领取情况" aria-label="Permalink to &quot;获取指定玩家的离线签到奖励领取情况&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;state&quot;)(name)</code><br><code>1.1.0</code>版本后配置文件删除了这个数据,为了向下兼容第三方插件保留此项</p><ul><li>参数: <ul><li>name: <code>String</code> 玩家ID</li></ul></li><li>返回值: 领取情况</li><li>返回值类型: <code>Boolean</code><ul><li>如果返回 <code>null</code> 则表示没有签到数据或没有填写玩家名字</li></ul></li></ul><h4 id="获取指定玩家签到总次数" tabindex="-1">获取指定玩家签到总次数 <a class="header-anchor" href="#获取指定玩家签到总次数" aria-label="Permalink to &quot;获取指定玩家签到总次数&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;count&quot;)(name)</code></p><ul><li>参数: <ul><li>name: <code>String</code> 玩家ID</li></ul></li><li>返回值: 签到次数</li><li>返回值类型: <code>Number</code><ul><li>如果返回 <code>null</code> 则表示没有签到数据或没有填写玩家名字</li></ul></li></ul><h4 id="获取指定玩家的连续签到次数" tabindex="-1">获取指定玩家的连续签到次数 <a class="header-anchor" href="#获取指定玩家的连续签到次数" aria-label="Permalink to &quot;获取指定玩家的连续签到次数&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;contsign&quot;)(name)</code></p><ul><li>参数: <ul><li>name: <code>String</code> 玩家ID</li></ul></li><li>返回值: 连续签到次数</li><li>返回值类型: <code>Number</code><ul><li>如果返回 <code>null</code> 则表示没有签到数据或没有填写玩家名字</li></ul></li></ul><h4 id="获取指定玩家未领取的离线签到奖励" tabindex="-1">获取指定玩家未领取的离线签到奖励 <a class="header-anchor" href="#获取指定玩家未领取的离线签到奖励" aria-label="Permalink to &quot;获取指定玩家未领取的离线签到奖励&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;reward&quot;)(name)</code></p><ul><li>参数: <ul><li>name: <code>String</code> 玩家ID</li></ul></li><li>返回值: 未领取的签到普通奖励</li><li>返回值类型: <code>Number</code><ul><li>如果返回 <code>null</code> 则表示没有签到数据或没有填写玩家名字</li></ul></li></ul><h4 id="获取指定玩家未领取的离线签到奖励1-1-0版本后支持" tabindex="-1">获取指定玩家未领取的离线签到奖励<code>1.1.0</code>版本后支持 <a class="header-anchor" href="#获取指定玩家未领取的离线签到奖励1-1-0版本后支持" aria-label="Permalink to &quot;获取指定玩家未领取的离线签到奖励\`1.1.0\`版本后支持&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;vipreward&quot;)(name)</code></p><ul><li>参数: <ul><li>name: <code>String</code> 玩家ID</li></ul></li><li>返回值: 未领取的签到VIP奖励</li><li>返回值类型: <code>Number</code><ul><li>如果返回 <code>null</code> 则表示没有签到数据或没有填写玩家名字</li></ul></li></ul><h4 id="获取指定玩家最后签到日期-新版" tabindex="-1">获取指定玩家最后签到日期（新版） <a class="header-anchor" href="#获取指定玩家最后签到日期-新版" aria-label="Permalink to &quot;获取指定玩家最后签到日期（新版）&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;signdate&quot;)(name)</code></p><ul><li>参数: <ul><li>name: <code>String</code> 玩家ID</li></ul></li><li>返回值: 最后签到时间</li><li>返回值类型: <code>String</code><ul><li>如果返回 <code>null</code> 则表示没有签到数据或没有填写玩家名字</li></ul></li></ul><h4 id="获取指定玩家签到时间差-新版" tabindex="-1">获取指定玩家签到时间差（新版） <a class="header-anchor" href="#获取指定玩家签到时间差-新版" aria-label="Permalink to &quot;获取指定玩家签到时间差（新版）&quot;">​</a></h4><p><code>ll.import(&quot;PSign&quot;, &quot;interval&quot;)(name)</code></p><ul><li>参数: <ul><li>name: <code>String</code> 玩家ID</li></ul></li><li>返回值: 时间差</li><li>返回值类型: <code>Number</code><ul><li>如果返回 <code>null</code> 则表示没有签到数据或没有填写玩家名字</li></ul></li></ul>`,47),n=[e];function h(d,o,p,k,r,c){return a(),s("div",null,n)}const g=i(l,[["render",h]]);export{E as __pageData,g as default};
